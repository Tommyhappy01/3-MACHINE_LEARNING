!function(e){function t(t){for(var r,i,c=t[0],l=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={457:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://yastatic.net/s3/fiji-static/_/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;a.push([1804,"b6fdfd"]),n()}({0:function(e,t){e.exports=React},10:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(28),o=n(11),a=function(e,t){var n=e.dtype,o=void 0===n?"iweb":n,a=e.path,i=e.vars,c=e.pid,l=e.cid;void 0===t&&(t=!0);var u={dtype:o,path:a,pid:c,cid:l},s=i&&Object(r.e)(i,t);return s&&(u.vars=s),u},i=function(){},c=o.a?function(e,t,n,r){var o,i=void 0===t?{}:t,c=i.reqid,l=i.dtype,u=i.vars,s=i.pid,f=i.cid,d=i.href;void 0===n&&(n=!0);var b=(void 0===r?{}:r).prepareHitParamsCb,p=void 0===b?a:b;null===(o=window.c)||void 0===o||o.hit(p({path:e,reqid:c,dtype:l,vars:u,pid:s,cid:f},n),d?{href:d}:void 0)}:i,l=o.a?function(e,t,n,r){var o,i=void 0===t?{}:t,c=i.reqid,l=i.dtype,u=i.vars,s=i.pid,f=i.cid,d=i.href;void 0===n&&(n=!0);var b=(void 0===r?{}:r).prepareHitParamsCb,p=void 0===b?a:b;null===(o=window.c)||void 0===o||o.hitDelayed(p({path:e,reqid:c,dtype:l,vars:u,pid:s,cid:f},n),d?{href:d}:void 0)}:i},101:function(e,t,n){e.exports=n(159)()},1029:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.nodeType!==Node.ELEMENT_NODE?null:"IMG"===e.tagName?e:e.querySelector("img[src]")||e.querySelector("[style*=background-image]")||null}},1086:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n(15),a=(n(678),Object(r.withBemMod)(Object(o.b)(),{type:"close"}))},119:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n(168),a=(n(179),Object(r.withBemMod)(Object(o.b)(),{tone:"white"}))},1275:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n(15),a=Object(r.withBemMod)(Object(o.b)(),{tone:"red"})},14:function(e,t){e.exports=ReactDOM},157:function(e,t,n){var r,o,a;!function(n,i){o=[t],void 0===(a="function"===typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),a=[],i=!1,c=-1,l=void 0,u=void 0,s=function(e){return a.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))})},f=function(e){var t=e||window.event;return!!s(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},d=function(){setTimeout(function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)})};e.disableBodyScroll=function(e,r){if(o){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!a.some(function(t){return t.targetElement===e})){var d={targetElement:e,options:r||{}};a=[].concat(t(a),[d]),e.ontouchstart=function(e){1===e.targetTouches.length&&(c=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,o,a;1===t.targetTouches.length&&(r=e,a=(n=t).targetTouches[0].clientY-c,!s(n.target)&&(r&&0===r.scrollTop&&0<a?f(n):(o=r)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&a<0?f(n):n.stopPropagation()))},i||(document.addEventListener("touchmove",f,n?{passive:!1}:void 0),i=!0)}}else{p=r,setTimeout(function(){if(void 0===u){var e=!!p&&!0===p.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(u=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")});var b={targetElement:e,options:r||{}};a=[].concat(t(a),[b])}var p},e.clearAllBodyScrollLocks=function(){o?(a.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),i&&(document.removeEventListener("touchmove",f,n?{passive:!1}:void 0),i=!1),a=[],c=-1):(d(),a=[])},e.enableBodyScroll=function(e){if(o){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,a=a.filter(function(t){return t.targetElement!==e}),i&&0===a.length&&(document.removeEventListener("touchmove",f,n?{passive:!1}:void 0),i=!1)}else(a=a.filter(function(t){return t.targetElement!==e})).length||d()}})?r.apply(t,o):r)||(e.exports=a)}()},159:function(e,t,n){"use strict";var r=n(160);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},160:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},168:function(e,t,n){"use strict";var r=n(12);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b})},172:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(3),o="CbirOverlay",a=Object(r.cn)("CbirOverlay")},179:function(e,t,n){},1804:function(e,t,n){n(83),e.exports=n(2036)},1805:function(e,t,n){},1806:function(e,t,n){},1807:function(e,t,n){},1808:function(e,t,n){},1809:function(e,t,n){},1810:function(e,t,n){},1811:function(e,t,n){},1812:function(e,t,n){},1813:function(e,t,n){},1814:function(e,t,n){},1815:function(e,t,n){},1816:function(e,t,n){},1817:function(e,t,n){},1818:function(e,t,n){},1824:function(e,t,n){},1826:function(e,t,n){},1827:function(e,t,n){},1829:function(e,t,n){},1830:function(e,t,n){},2036:function(e,t,n){"use strict";n.r(t),n.d(t,"App",function(){return pn});var r=n(25),o=n(2),a=n(0),i=n.n(a),c=n(253),l=n(10),u=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},s=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},f=n(9),d=n(7),b=n(78),p=n(953);var v,m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t){switch(t.type){case"popup-show":return function(e){return e.popupVisible?e:m(m({},e),{popupVisible:!0})}(e);case"popup-hide":return function(e){return e.popupVisible?m(m({},e),{popupVisible:!1,loading:!1,notifyVisible:!1,urlFormValue:"",urlFormInvalid:!1}):e}(e);case"notify-show":return function(e,t){return m(m({},e),{notifyVisible:!0,notifyType:t.payload.notifyType})}(e,t);case"notify-hide":return function(e){return m(m({},e),{notifyVisible:!1})}(e);case"search-by-image-start":return function(e,t){return m(m({},e),{loading:!0,notifyVisible:!1,urlFormInvalid:!1,urlFormValue:"url"===t.payload.searchType?t.payload.url:""})}(e,t);case"search-by-image-error":return function(e,t){var n=m(m({},e),{loading:!1,notifyVisible:!0});return"file"===t.payload.searchType?(n.notifyType="format",n.urlFormValue="",n.urlFormInvalid=!1):(n.notifyType="url",n.urlFormValue=t.payload.url,n.urlFormInvalid=!0),n}(e,t);case"url-form-change":return function(e,t){return m(m({},e),{urlFormValue:t.payload.value,urlFormInvalid:!1})}(e,t);case"fullscreen-drop-show":return function(e){return m(m({},e),{fullscreenDropVisible:!0})}(e);case"fullscreen-drop-hide":return function(e){return m(m({},e),{fullscreenDropVisible:!1})}(e);case"global-drag-start":return function(e){return m(m({},e),{dragging:!0})}(e);case"global-drag-end":return function(e){return m(m({},e),{dragging:!1,dropAreaOver:!1})}(e);case"drop-area-enter":return function(e){return m(m({},e),{dropAreaOver:!0})}(e);case"drop-area-leave":return function(e){return m(m({},e),{dropAreaOver:!1})}(e)}},h={popupVisible:!1,loading:!1,notifyVisible:!1,notifyType:"format",urlFormValue:"",urlFormInvalid:!1,fullscreenDropVisible:!1,dragging:!1,dropAreaOver:!1},g=n(3),O=Object(g.cn)("CbirPanel"),j=(n(1805),["bottom-right"]),w=function(e){var t=e.children,n=e.scope,r=e.anchor,a=e.visible,c=e.onClose,l=e.innerRef,u=e.bodyRef,s=Object(o.useComponentRegistry)("CbirPanel").Popup;return i.a.createElement(s,{innerRef:l,visible:a,className:O("Popup"),hasTail:!0,tailSize:12,view:"default",target:"anchor",mainOffset:11,secondaryOffset:-46,viewportOffset:8,tailOffset:46,directions:j,anchor:r,scope:n,onClose:c},i.a.createElement("div",{className:O("PopupBody"),ref:u},t))},C=n(5),E=n.n(C),k=n(121),x=n(223),S=n(993),D=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},P=function(e){var t=e.localStorageKey,n=e.showDelay,r=e.ttl,o=D(Object(S.a)({key:t,ttl:r}),2),i=o[0],l=i.expired,u=i.count,s=o[1],f=D(Object(a.useState)(!1),2),d=f[0],b=f[1],p=Object(a.useRef)(0),v=Object(c.a)(u),m=Object(a.useCallback)(function(){window.clearTimeout(p.current),p.current=0},[]),y=Object(a.useCallback)(function(){m(),b(!0)},[m,b]),h=Object(a.useCallback)(function(e){var t=(void 0===e?{}:e).update,n=void 0!==t&&t;return new Promise(function(e){m(),n&&0===v.current&&s(),b(function(t){return e(t),!1})})},[v,s,b,m]);return Object(k.a)(function(){l&&0===u&&(p.current=window.setTimeout(y,n))}),Object(x.a)(m),{visible:d,show:y,hide:h}},T=n(987),N=(n(1806),E()(T)),F=Object(a.forwardRef)(function(e,t){var n=e.scope,r=e.anchor,c=e.localStorageKey,l=e.showDelay,u=e.ttl,s=e.onShow,f=e.onAction,d=P({localStorageKey:c,showDelay:l,ttl:u}),b=d.visible,p=d.hide;Object(a.useImperativeHandle)(t,function(){return{hide:p}},[p]),Object(a.useEffect)(function(){b&&s()},[b,s]);var v=Object(a.useCallback)(function(e,t){"esc"===t&&p({update:!0})},[p]),m=Object(a.useCallback)(function(){return p({update:!0})},[p]),y=Object(a.useCallback)(function(){return f()},[f]),h=Object(o.useComponentRegistry)("CbirPanel"),g=h.MessageBoxPopup,j=h.Button;return b?i.a.createElement(g,{className:O("OnboardingDrag"),visible:!0,opaque:!0,view:"inverse",layout:"tooltip",size:"m",hasTail:!0,tailType:"rounded",anchor:r,scope:n,direction:"bottom-left",secondaryOffset:-10,tailOffset:20,onClose:v,actions:i.a.createElement(i.a.Fragment,null,i.a.createElement(j,{view:"clear",size:"m",onClick:m},N("Не сейчас",{context:"Кнопка скрытия информационного окошка"})),i.a.createElement(j,{view:"action",size:"m",onClick:y},N("Попробовать",{context:"Кнопка открывающая интерфейс визуального поиска из информационного окошка"})))},i.a.createElement("div",{className:O("OnboardingDragContent")},i.a.createElement("div",{className:O("OnboardingDragVideo"),onClick:y}),i.a.createElement("div",{className:O("OnboardingDragTitle")},N("Попробуйте визуальный поиск",{context:"Заголовок в информационном окошке"})),i.a.createElement("div",{className:O("OnboardingDragText")},N("Загрузите изображение, чтобы найти похожие картинки",{context:"Сообщение в информационном окошке"})))):null}),B=n(282),R=n(48),I=(n(1807),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),L=E()(T),M=Object(a.forwardRef)(function(e,t){var n=e.scope,r=e.anchor,c=e.localStorageKey,l=e.showDelay,u=e.ttl,s=e.onShow,f=e.onAction,d=Object(B.a)().width,b=void 0===d?0:d,p=I(Object(a.useState)("search"),2),v=p[0],m=p[1],y="index"===v||b<1180;Object(k.a)(function(){m(Object(R.a)("page"))});var h=P({localStorageKey:c,showDelay:l,ttl:u}),g=h.visible,j=h.hide;Object(a.useImperativeHandle)(t,function(){return{hide:j}},[j]),Object(a.useEffect)(function(){g&&s()},[g,s]);var w=Object(a.useCallback)(function(e,t){"esc"!==t&&void 0!==t||j({update:!0})},[j]),C=Object(a.useCallback)(function(){return f()},[f]),E=Object(o.useComponentRegistry)("CbirPanel").MessageBoxPopup;return g?i.a.createElement(E,{className:O("OnboardingSimple"),visible:!0,opaque:!0,view:"promo",layout:"functional",size:"m",hasTail:!0,tailType:"rounded",anchor:r,scope:n,direction:y?"bottom-right":"right-top",secondaryOffset:y?-28:void 0,tailOffset:y?18:11,onClose:w},i.a.createElement("div",{className:O("OnboardingSimpleBody"),onClick:C},i.a.createElement("div",{className:O("OnboardingSimpleTitle")},L("Новый визуальный поиск")),i.a.createElement("div",{className:O("OnboardingSimpleText")},L("Загрузите изображение, чтобы найти похожие картинки")))):null}),_=n(903),A=n(984),U=(n(1808),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),V=E()(T),z=function(e){var t=e.pos,n=e.onClick,r=U(Object(a.useState)(),2),c=r[0],l=r[1],u=Object(a.useCallback)(function(e){e&&l(Object(A.a)(e)||void 0)},[]),s=Object(a.useCallback)(function(e){e.preventDefault(),n(c)},[n,c]),f=Object(o.useComponentRegistry)("CbirPanel").Link;return i.a.createElement("div",{className:O("OnboardingPhotoItem",{pos:String(t)})},i.a.createElement(f,{className:O("OnboardingPhotoItemThumb"),theme:"ghost",href:c,onClick:s}),i.a.createElement("div",{ref:u,className:O("OnboardingPhotoItemFull")}))},G=Object(a.forwardRef)(function(e,t){var n=e.scope,r=e.anchor,c=e.localStorageKey,l=e.showDelay,u=e.ttl,s=e.onShow,f=e.onAction,d=P({localStorageKey:c,showDelay:l,ttl:u}),b=d.visible,p=d.hide;Object(a.useImperativeHandle)(t,function(){return{hide:p}},[p]),Object(a.useEffect)(function(){b&&s()},[b,s]);var v=Object(a.useCallback)(function(e,t){"esc"===t&&p({update:!0})},[p]),m=Object(a.useCallback)(function(){return p({update:!0})},[p]),y=Object(a.useCallback)(function(){return f()},[f]),h=Object(o.useComponentRegistry)("CbirPanel"),g=h.MessageBoxPopup,j=h.Button;return b?i.a.createElement(g,{className:O("OnboardingPhoto"),visible:!0,opaque:!0,view:"inverse",layout:"tooltip",size:"m",hasTail:!0,tailType:"rounded",anchor:r,scope:n,direction:"bottom-left",secondaryOffset:-10,tailOffset:20,onClose:v,actions:i.a.createElement(i.a.Fragment,null,i.a.createElement(j,{view:"clear",size:"m",onClick:m},V("Не сейчас",{context:"Кнопка скрытия информационного окошка"})),i.a.createElement(j,{view:"action",size:"m",onClick:y},V("Понятно",{context:"Кнопка скрытия информационного окошка"})))},i.a.createElement("div",{className:O("OnboardingPhotoContent")},i.a.createElement("div",{className:O("OnboardingPhotoTitle")},V("Попробуйте визуальный поиск по изображению",{context:"Заголовок в информационном окошке"})),i.a.createElement("div",{className:O("OnboardingPhotoText")},V("Перетащите картинку в область для загрузки",{context:"Сообщение в информационном окошке"})),i.a.createElement("div",{className:O("OnboardingPhotoItems")},Object(_.a)(4,function(e){return i.a.createElement(z,{key:"item-"+e,pos:e,onClick:f})})))):null}),H=(n(1809),function(e){var t=e.url,n=e.onClick,r=Object(o.useComponentRegistry)("CbirPanel"),a=r.Link,c=r.Icon;return i.a.createElement(a,{className:O("InfoLink"),href:t,target:"_blank",theme:"ghost",onClick:n},i.a.createElement(c,{size:"m",type:"info-filled",tone:"light-blue"}))}),q=(n(1810),function(e){var t=e.onClick,n=Object(o.useComponentRegistry)("CbirPanel"),r=n.Link,a=n.Icon;return i.a.createElement(r,{className:O("Closer"),href:"javascript:void(0)",role:"button",theme:"ghost",onClick:t},i.a.createElement(a,{size:"m",type:"close",tone:"light-blue"}))}),K=(n(1811),E()(T)),Y=function(e){var t=e.loading,n=e.infoUrl,r=e.onInfoClick,o=e.onCloserClick;return i.a.createElement("div",{className:O("Head",{loading:t})},i.a.createElement("div",{className:O("HeadText")},K("Визуальный поиск",{context:"Заголовок модального окна загрузки изображения"})),i.a.createElement(H,{url:n,onClick:r}),i.a.createElement("div",{className:O("HeadSpacer")}),i.a.createElement(q,{onClick:o}))},Z=n(1278),W=(n(1812),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),J=E()(T),$=function(e){var t=e.isMacOS,n=e.droppable,r=e.pasteAvailable,c=e.onClick,l=e.onSelectButtonClick,u=e.onPasteButtonClick,s=e.onPasteFile,f=e.onPasteUrl,d=e.onPasteError,b=e.onPasteTooltipClose,p=Object(a.useRef)(null),v=W(Object(Z.a)(!1),4),m=v[0],y=v[2],h=v[3],g=Object(o.useComponentRegistry)("CbirPanel"),j=g.Button,w=g.CbirAnimLogo,C=g.ImagePasteButton;return i.a.createElement("div",{className:O("FileControls"),onMouseEnter:y,onMouseLeave:h},i.a.createElement("div",{className:O("FileControlsBackground",{active:m||n}),onClick:c}),i.a.createElement("div",{className:O("FileControlsContent"),ref:p},i.a.createElement(w,{className:O("FileControlsLogo"),active:m||n}),i.a.createElement("div",{className:O("FileControlsTitle")},J("Перетащите изображение сюда",{context:"Основная подсказка в drop области загрузчика изображений"})),i.a.createElement("div",{className:O("FileControlsSubtitle")},J("или нажмите на кнопку",{context:"Дополнительная подсказка в drop области загрузчика изображений"})),i.a.createElement("div",{className:O("FileControlsButtons")},i.a.createElement(j,{className:O("FileControlsButton"),size:"m",view:"action",width:"auto",onClick:l},J("Выбрать файл",{context:"Текст кнопки выбора файла в загрузчике изображений"})),i.a.createElement(C,{className:O("FileControlsButton"),tooltipAvailable:r,tooltipTitle:J(t?"Нажмите Cmd+V":"Нажмите Ctrl+V",{context:"Текст тултипа на кнопке вставки из буфера обмена"}),tooltipScope:p,onTooltipClose:b,onClick:u,onFile:s,onUrl:f,onError:d}))))},Q=(n(1813),E()(T)),X=Object(a.forwardRef)(function(e,t){var n=e.value,r=e.onChange,c=e.onSubmit,l=e.invalid,u=Object(a.useRef)(null),s=Object(a.useCallback)(function(){var e;null===(e=u.current)||void 0===e||e.focus()},[]),f=Object(a.useCallback)(function(){var e;null===(e=u.current)||void 0===e||e.blur()},[]);Object(a.useImperativeHandle)(t,function(){return{focus:s,blur:f}},[s,f]);var d=Object(a.useCallback)(function(){r("")},[r]),b=Object(a.useCallback)(function(e){e.preventDefault(),c()},[c]),p=Object(a.useCallback)(function(e){r(e.currentTarget.value)},[r]),v=Object(o.useComponentRegistry)("CbirPanel"),m=v.Textinput,y=v.Button;return i.a.createElement("form",{className:O("UrlForm"),onSubmit:b},i.a.createElement(m,{controlRef:u,hasClear:!0,onClearClick:d,className:O("UrlFormInput"),size:"m",state:l?"error":void 0,value:n,placeholder:Q("Введите адрес изображения",{context:"Плейсхолдер в поле ввода адреса изображения"}),view:"default",type:"text",inputMode:"url",onChange:p}),i.a.createElement(y,{type:"submit",className:O("UrlFormButton"),disabled:l||""===n,size:"m",view:"default",width:"auto"},Q("Найти",{context:"Текст кнопки активирующей поиск картинок по урлу"})))}),ee=(n(1814),function(e){var t=e.visible,n=Object(o.useComponentRegistry)("CbirPanel").Spin;return t?i.a.createElement("div",{className:O("Preloader")},i.a.createElement(n,{view:"default",size:"m",progress:!0,position:"center"})):null}),te=(n(1815),Object(a.forwardRef)(function(e,t){var n=e.className,r=e.onDropFile,a=e.onDropUrl,c=e.onDragOver,l=e.onDragEnter,u=e.onDragLeave,s=e.onDrop,f=e.onClick,d=Object(o.useComponentRegistry)("CbirPanel").ImageDropArea;return i.a.createElement(d,{ref:t,className:O("DropArea",[n]),onFile:r,onUrl:a,onDragOver:c,onDragEnter:l,onDragLeave:u,onDrop:s,onClick:f})})),ne=n(298),re=(n(1816),function(e){var t=e.visible,n=e.type,r=e.onClose,a=Object(o.useComponentRegistry)("CbirPanel").CbirUploadErrorNotify;return i.a.createElement(ne.a,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:100,classNames:O("ErrorNotify")},i.a.createElement(a,{className:O("ErrorNotify"),type:n,onCloserClick:r}))}),oe=n(2155),ae=n(11),ie=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ce=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ie(arguments[t]));return e},le=n(56),ue=(n(1817),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),se=E()(T),fe=function(e){var t=e.scope,n=e.onDropFile,r=e.onDropUrl,c=e.onDrop,l=e.onCloseRequest,u=Object(a.useRef)(null);!function(e){Object(a.useEffect)(function(){var t=e.current;if(t)return Object(d.a)().emit("cbir:register-global-drop-area",t),function(){Object(d.a)().emit("cbir:unregister-global-drop-area",t)}},[e])}(u),Object(oe.a)("Escape",l,{target:ae.a?document.documentElement:void 0});var s=ue(Object(le.a)(!1),2),f=s[0],b=s[1],p=Object(a.useMemo)(function(){return function(e,t){var n,r,o,a=function(){window.clearTimeout(o),o=void 0},i=function(){var c=Date.now()-n;c>=t?(a(),e.apply(void 0,ce(r))):o=window.setTimeout(i,t-c)},c=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n=Date.now(),r=e,void 0===o&&(o=window.setTimeout(i,t))};return c.cancel=a,c}(b,1e3)},[b]);Object(k.a)(p),Object(x.a)(p.cancel);var v=Object(o.useComponentRegistry)("CbirPanel"),m=v.CbirOverlay,y=v.Icon;return i.a.createElement(m,{className:O("FullscreenDropOverlay"),withTouchPrevention:!0,scrollTarget:u,paranja:"translucent",scope:t},i.a.createElement("div",{className:O("FullscreenDropContent")},i.a.createElement("div",{className:O("FullscreenDropLogo")}),i.a.createElement("div",{className:O("FullscreenDropTitle")},se("Перетащите изображение сюда",{context:"Основная подсказка в drop области загрузчика изображений"}))),f&&i.a.createElement(y,{className:O("FullscreenDropCloser"),type:"close",tone:"white",size:"m"}),i.a.createElement(te,{className:O("FullscreenDropArea"),ref:u,onDropFile:n,onDropUrl:r,onDrop:c,onDragOver:p,onDragEnter:p,onClick:l}))},de=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},be=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},pe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ve=n(1),me=n(528),ye=n(529),he=n(420),ge=n(1225),Oe=n(1087),je=n(1722),we=n(1088),Ce=n(531),Ee=n(1302),ke=n(1777),xe=n(1764),Se=n(1713),De=n(922),Pe=n(708),Te=n(921),Ne=n(709),Fe=n(71),Be=n(2159),Re=n(740),Ie=n(15),Le=n(714),Me=n(2161),_e=n(1340),Ae=n(1341),Ue=n(2165),Ve=n(1086),ze=(n(1830),Object(ve.withBemMod)(Object(Ie.b)(),{type:"info-filled"})),Ge=Object(ve.withBemMod)(Object(Ie.b)(),{tone:"light-blue"}),He=n(373),qe=n(1724),Ke=Object(g.cn)("DropArea"),Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ze=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},We=Object(a.forwardRef)(function(e,t){var n=e.className,r=e.style,o=e.onFiles,a=e.onHtml,c=e.onText,l=e.onUrl,u=e.onDragOver,s=e.onDragEnter,f=e.onDragLeave,d=e.onDrop,b=e.onClick,p=Ze(Object(qe.a)({onFiles:o,onUrl:l,onHtml:a,onText:c,onDragOver:u,onDragEnter:s,onDragLeave:f,onDrop:d}),2),v=p[0],m=p[1];return i.a.createElement("div",Ye({ref:t,className:Ke({active:m.over},[n]),style:r,onClick:b},v))}),Je=Object(g.cn)("ImageDropArea"),$e=n(1029),Qe=function(e){var t=document.createElement("div");return t.innerHTML=e,Object($e.a)(t)},Xe=n(983),et=Object(a.forwardRef)(function(e,t){var n=e.className,r=e.style,o=e.onFile,c=void 0===o?f.a:o,l=e.onUrl,u=void 0===l?f.a:l,s=e.onDragOver,d=e.onDragEnter,b=e.onDragLeave,p=e.onDrop,v=e.onClick,m=function(e){return Object(a.useCallback)(function(t){t.length>0&&e(t[0])},[e])}(c),y=function(e){return Object(a.useCallback)(function(t){t&&e(t)},[e])}(u),h=function(e){return Object(a.useCallback)(function(t){var n=Qe(t);if(n){var r=Object(Xe.a)(n);r&&e(r)}},[e])}(u);return i.a.createElement(We,{ref:t,className:Je(null,[n]),style:r,onFiles:m,onHtml:h,onUrl:y,onDragOver:s,onDragEnter:d,onDragLeave:b,onDrop:p,onClick:v})}),tt=Object(g.cn)("CbirAnimLogo"),nt=(n(1818),n(2156)),rt=n(2157),ot=n(2158),at=n(2164),it=Object(g.cn)("ImagePasteButton"),ct=Object(ve.compose)(Ce.a,nt.a,Ee.a)(De.a),lt=Object(ve.compose)(rt.a,ot.a)(at.a),ut=new o.Registry({id:"ImagePasteButton"}).fill({Button:ct,Tooltip:lt}),st=n(1725),ft=Boolean(ae.a&&"function"===typeof(null===(v=navigator.clipboard)||void 0===v?void 0:v.read)),dt=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},bt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},pt=function(){return dt(void 0,void 0,Promise,function(){return bt(this,function(e){switch(e.label){case 0:if(!ft)return[2,[]];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.clipboard.read()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,[]];case 4:return[2]}})})},vt=function(e,t){return e.find(function(e){return e.types.some(t)})},mt=function(e){return 0===e.indexOf("image/")},yt=function(e){return"text/html"===e},ht=function(e){return"text/uri-list"===e},gt=function(e){return"text/plain"===e},Ot=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},jt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},wt=function(e,t){return Ot(void 0,void 0,Promise,function(){var n,r;return jt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n=vt(e,t),r=null===n||void 0===n?void 0:n.types.find(t),n&&r?[4,n.getType(r)]:[3,2];case 1:return[2,o.sent()];case 2:return[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}})})},Ct=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=n,r.readAsText(e)})},Et=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},kt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},xt=n(2146),St=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(i,c)}l((r=r.apply(e,t||[])).next())})},Dt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Pt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Tt=E()(xt),Nt=["bottom-center","bottom-right","bottom-left"],Ft=(n(1824),Object(o.withRegistry)(ut)(function(e){var t=e.className,n=e.altText,r=e.tooltipAvailable,c=void 0===r||r,l=e.tooltipTitle,u=e.tooltipScope,s=e.onTooltipClose,f=e.onClick,d=e.onFile,b=e.onUrl,p=e.onError,v=Object(a.useRef)(null),m=Pt(Object(Z.a)(!1,{delayIn:200,delayOut:200}),4),y=m[0],h=m[1],g=m[2],O=m[3],j=Object(st.a)({name:"clipboard-read"}),w=function(e){var t=e.onFile,n=e.onUrl,r=e.onError;return Object(a.useCallback)(function(){return Et(void 0,void 0,void 0,function(){var e,o,a,i,c,l,u,s,f,d;return kt(this,function(b){switch(b.label){case 0:return b.trys.push([0,12,,13]),[4,pt()];case 1:return e=b.sent(),[4,wt(e,mt)];case 2:return(o=b.sent())?[2,null===t||void 0===t?void 0:t(o)]:[4,wt(e,yt)];case 3:return(a=b.sent())?[4,Ct(a)]:[3,5];case 4:if(i=b.sent(),(c=Qe(i))&&(l=Object(Xe.a)(c)))return[2,null===n||void 0===n?void 0:n(l)];b.label=5;case 5:return[4,wt(e,ht)];case 6:return(u=b.sent())?[4,Ct(u)]:[3,8];case 7:if(s=b.sent())return[2,null===n||void 0===n?void 0:n(s)];b.label=8;case 8:return[4,wt(e,gt)];case 9:return(f=b.sent())?[4,Ct(f)]:[3,11];case 10:if(d=b.sent())return[2,null===n||void 0===n?void 0:n(d)];b.label=11;case 11:return[3,13];case 12:return b.sent(),[3,13];case 13:return null===r||void 0===r||r(),[2]}})})},[t,n,r])}({onFile:d,onUrl:b,onError:p});Object(a.useEffect)(function(){c&&("granted"!==j&&"prompt"!==j||pt().then(function(e){e.length>0&&vt(e,mt)&&g()}))},[c,j,g]);var C=Object(a.useCallback)(function(){return St(void 0,void 0,void 0,function(){return Dt(this,function(e){return null===f||void 0===f||f(),h(!1),w(),[2]})})},[f,h,w]),E=Object(a.useCallback)(function(e,t){h(!1),null===s||void 0===s||s(e,t)},[h,s]),k=Object(o.useComponentRegistry)("ImagePasteButton"),x=k.Button,S=k.Tooltip;return ft&&"denied"!==j?i.a.createElement(i.a.Fragment,null,i.a.createElement(x,{className:it(null,[t]),onClick:C,view:"pseudo",size:"m",width:"auto",innerRef:v,onMouseEnter:g,onMouseLeave:O},Tt("Вставить из буфера",{context:"Кнопка которая выполнит вставку картинку из буфера обмена"})),l&&i.a.createElement(S,{className:it("Tooltip"),hasTail:!0,view:"default",size:"s",anchor:v,visible:c&&y,scope:u,direction:Nt,mainOffset:12,onClose:E},l)):n?i.a.createElement("span",{className:it("DisableHint",[t])},n):null})),Bt=(n(1826),Object(ve.withBemMod)(Object(Ie.b)(),{type:"error-filled"})),Rt=n(1275),It=n(405),Lt=Object(g.cn)("CbirUploadErrorNotify"),Mt=Object(Be.a)(Re.a),_t=Object(ve.compose)(Object(ve.composeU)(Bt,Ve.a),Object(ve.composeU)(Rt.a,It.a))(Ie.a),At=new o.Registry({id:"CbirUploadErrorNotify"}).fill({Link:Mt,Icon:_t}),Ut=n(2147),Vt=E()(Ut),zt=(n(1827),Object(o.withRegistry)(At)(function(e){var t=e.className,n=e.type,r=e.maxFileSizeMB,a=void 0===r?20:r,c=e.onCloserClick,l=function(e){switch(e){case"format":return Vt("Неправильный формат",{context:"Заголовок ошибки о неподходящем формате картинки"});case"size":return Vt("Файл слишком большой",{context:"Заголовок ошибки о большом размере файла с картинкой"});case"url":return Vt("Не нашли изображение по указанному адресу",{context:"Заголовок ошибки о невозможности загрузить картинку из указанного адреса"});case"clipboard":return Vt("Не удалось вставить картинку из буфера",{context:"Заголовок ошибки о невозможности вставке картинки из буфера обмена"})}}(n),u=function(e,t){switch(e){case"format":return Vt("Попробуйте загрузить изображение в формате png, jpg, gif и др.",{context:"Подсказка при ошибке загрузке неправильного формата картинки."});case"size":return Vt("Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение",{size:t,context:"Подсказка при ошибке загрузке файла имеющего недопустимо большой размер."});case"url":return Vt("Попробуйте ввести другой адрес",{context:"Подсказка при ошибке загрузке картинки по введенному адресу"});case"clipboard":return Vt("Чтобы загрузить изображение, выберите файл или перетащите его сюда",{context:"Подсказка при ошибке вставки картинки из буфера обмена."})}}(n,a),s=Object(o.useComponentRegistry)("CbirUploadErrorNotify"),f=s.Link,d=s.Icon;return i.a.createElement("div",{className:Lt(null,[t])},i.a.createElement(d,{size:"l",type:"error-filled",tone:"red",className:Lt("Icon")}),i.a.createElement("div",{className:Lt("Message")},i.a.createElement("div",{className:Lt("Title")},l),i.a.createElement("div",{className:Lt("Description")},u)),i.a.createElement(f,{className:Lt("Closer"),href:"javascript:void(0)",role:"button",theme:"ghost",onClick:c},i.a.createElement(d,{size:"m",type:"close",tone:"gray"})))})),Gt=n(2160),Ht=n(611),qt=n(1067),Kt=n(119),Yt=n(172),Zt=Object(ve.compose)(Object(ve.composeU)(xe.a,ke.a),Gt.a,Kt.a,Ht.a,qt.a)(De.a),Wt=new o.Registry({id:Yt.b}).fill({Button:Zt}),Jt=n(649),$t=Object(o.withRegistry)(Wt)(Jt.a),Qt=(n(1829),Object(ve.withBemMod)(Object(Yt.a)(),{paranja:"translucent"})),Xt=Object(ve.compose)(me.a,Le.a,ye.a)(he.a),en=Object(ve.compose)(ge.a,Oe.a,je.a)(we.a),tn=Object(ve.compose)(Ce.a,Ee.a,Object(ve.composeU)(ke.a,xe.a,Se.a))(De.a),nn=Object(ve.compose)(Pe.a,Te.a,Ne.a)(Fe.a),rn=Object(Be.a)(Re.a),on=Object(ve.compose)(Object(ve.composeU)(Ve.a,ze),Object(ve.composeU)(Ge,He.a))(Ie.a),an=et,cn=function(e){var t=e.className,n=e.active,r=e.width,o=e.height;return i.a.createElement("svg",{width:"115",height:"56",viewBox:"0 0 115 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:tt({active:n},[t]),style:{width:r,height:o}},i.a.createElement("g",{className:tt("Shadow"),filter:"url(#filter0_f)"},i.a.createElement("ellipse",{cx:"56.4476",cy:"50",rx:"41",ry:"2",fill:"#D7D1BB",fillOpacity:"0.6"})),i.a.createElement("g",{className:tt("LeftImage"),opacity:"0.6"},i.a.createElement("rect",{x:"1.16431",y:"14.7832",width:"40",height:"29.3333",rx:"8",fill:"#F7F8FB"}),i.a.createElement("ellipse",{cx:"12.5642",cy:"24.1165",rx:"3.33333",ry:"3.33333",fill:"#E3E6E8"}),i.a.createElement("path",{d:"M33.184 44.1165L7.15301 44.1165C3.8455 44.1165 1.16424 41.4352 1.16424 38.1277L7.13882 32.9341C8.75139 31.5323 11.0765 31.3101 12.9254 32.3811L33.184 44.1165Z",fill:"#CED5DB",fillOpacity:"0.4"}),i.a.createElement("path",{d:"M41.1642 33.6686L41.1642 36.1165C41.1642 40.5348 37.5825 44.1165 33.1642 44.1165L7.34912 44.1165L24.7394 27.9193C26.3806 26.3906 28.839 26.1419 30.7531 27.3108L41.1642 33.6686Z",fill:"#E3E6E8"})),i.a.createElement("g",{className:tt("RightImage"),opacity:"0.6"},i.a.createElement("rect",{x:"72.9703",y:"14.8699",width:"40",height:"29.3333",rx:"8",fill:"#F7F8FB"}),i.a.createElement("ellipse",{cx:"84.3701",cy:"24.2032",rx:"3.33333",ry:"3.33333",fill:"#E3E6E8"}),i.a.createElement("path",{d:"M104.99 44.2031L78.959 44.2031C75.6515 44.2031 72.9703 41.5219 72.9703 38.2144L78.9449 33.0208C80.5575 31.619 82.8826 31.3968 84.7315 32.4678L104.99 44.2031Z",fill:"#CED5DB",fillOpacity:"0.4"}),i.a.createElement("path",{d:"M112.97 33.7552L112.97 36.2031C112.97 40.6214 109.389 44.2031 104.97 44.2031L79.1551 44.2031L96.5454 28.0058C98.1867 26.4772 100.645 26.2285 102.559 27.3974L112.97 33.7552Z",fill:"#E3E6E8"})),i.a.createElement("g",{className:tt("FrontImage"),clipPath:"url(#clip2)"},i.a.createElement("rect",{x:"27.4476",width:"60",height:"44",rx:"8",fill:"white"}),i.a.createElement("rect",{x:"27.4476",width:"60",height:"44",rx:"8",fill:"#F7F8FB"}),i.a.createElement("circle",{className:tt("FrontImageSun"),cx:"44.5474",cy:"14",r:"5",fill:"#FFDC61"}),i.a.createElement("path",{className:tt("FrontImageSmallRock"),d:"M75.4775 44H27.4476V35.0168L37.7574 26.0546C39.37 24.6528 41.6951 24.4307 43.5439 25.5017L75.4775 44Z",fill:"#FFDC61",fillOpacity:"0.4"}),i.a.createElement("path",{className:tt("FrontImageBigRock"),d:"M87.4477 28.3282V44.0001H36.7249L64.1984 18.4113C65.8396 16.8827 68.2979 16.634 70.2121 17.8029L87.4477 28.3282Z",fill:"#FFDC61"})),i.a.createElement("defs",null,i.a.createElement("filter",{id:"filter0_f",x:"11.4476",y:"44",width:"90",height:"12",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"})),i.a.createElement("clipPath",{id:"clip2"},i.a.createElement("rect",{x:"27.4476",width:"60",height:"44",rx:"8",fill:"white"}))))},ln=Ft,un=zt,sn=Object(ve.compose)(Object(ve.composeU)(Me.a,_e.a),Ae.a)(Ue.b),fn=Object(ve.compose)(Qt)($t),dn=new o.Registry({id:"CbirPanel"}).fill({Popup:Xt,Textinput:en,Button:tn,Spin:nn,Link:rn,Icon:on,ImageDropArea:an,CbirAnimLogo:cn,ImagePasteButton:ln,CbirUploadErrorNotify:un,MessageBoxPopup:sn,CbirOverlay:fn}),bn=Object(o.withRegistry)(dn)(function(e){var t=e.infoUrl,n=e.isMacOS,r=e.counterPaths,o=e.onboardingType,v=Object(a.useRef)(null),m=Object(a.useRef)(null),g=Object(a.useRef)(null),O=Object(a.useRef)(null),j=Object(p.a)(".input__cbir-button"),C=Object(p.a)(".serp-header__wrapper"),E=Object(a.useRef)(!1),k=pe(function(){return Object(a.useReducer)(y,h)}(),2),x=k[0],S=x.popupVisible,D=x.loading,P=x.notifyVisible,T=x.notifyType,N=x.urlFormValue,B=x.urlFormInvalid,R=x.fullscreenDropVisible,I=x.dragging,L=x.dropAreaOver,_=k[1],A=Object(c.a)(S),U=Object(c.a)(R),V=Object(c.a)(N),z=Object(a.useCallback)(function(e){var t,n;e?null===(t=g.current)||void 0===t||t.focus():null===(n=g.current)||void 0===n||n.blur()},[]),H=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){var t;return be(this,function(n){switch(n.label){case 0:return[4,null===(t=O.current)||void 0===t?void 0:t.hide(e)];case 1:return n.sent()?[4,function(e){return u(void 0,void 0,Promise,function(){return s(this,function(t){return[2,new Promise(function(t,n){window.setTimeout(function(){try{t(e())}catch(e){n(e)}})})]})})}(f.a)]:[3,3];case 2:return[2,n.sent()];case 3:return[2]}})})},[]),q=Object(a.useCallback)(function(){A.current&&(Object(l.a)(r.popupClose),_({type:"popup-hide"}),Object(d.a)().emit("cbir:popup-closed"))},[A,r,_]),K=Object(a.useCallback)(function(){U.current&&(Object(l.a)(r.fullscreenDropClose),_({type:"fullscreen-drop-hide"}))},[U,r,_]),Z=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return[4,H({update:!0})];case 1:return t.sent(),K(),A.current||(Object(l.a)(r.popupOpen),_({type:"popup-show"}),Object(d.a)().emit("cbir:popup-opened"),requestAnimationFrame(function(){z(e)})),[2]}})})},[A,r,_,H,z,K]),W=Object(a.useCallback)(function(){return de(void 0,void 0,void 0,function(){return be(this,function(e){switch(e.label){case 0:return[4,H({update:!0})];case 1:return e.sent(),q(),U.current||(Object(l.a)(r.fullscreenDropOpen),_({type:"fullscreen-drop-show"})),[2]}})})},[U,r,_,H,q]),J=Object(a.useCallback)(function(){H(),K(),q()},[H,K,q]);Object(b.a)("b-page:fade-shown",J);var Q=Object(a.useCallback)(function(e){return void 0===e&&(e=!A.current),de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return e?[4,Z(!0)]:[3,2];case 1:return t.sent(),[3,3];case 2:q(),t.label=3;case 3:return[2]}})})},[A,Z,q]);Object(b.a)("cbir:toggle-popup",Q);var ne=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return[4,Z(!1)];case 1:return t.sent(),_({type:"search-by-image-start",payload:e}),Object(d.a)().emit("images-viewer:close"),[2]}})})},[Z,_]);Object(b.a)("cbir:search-by-image:start",ne);var oe=Object(a.useCallback)(function(){K(),q()},[K,q]);Object(b.a)("cbir:search-by-image:success",oe);var ae=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return[4,Z("url"===e.searchType)];case 1:return t.sent(),_({type:"search-by-image-error",payload:e}),[2]}})})},[Z,_]);Object(b.a)("cbir:search-by-image:error",ae);var ie=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return E.current=!e&&!A.current,e?[4,W()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,Z(!1)];case 3:t.sent(),t.label=4;case 4:return _({type:"global-drag-start"}),[2]}})})},[A,Z,W,_]);Object(b.a)("cbir:drag-start",ie);var ce=Object(a.useCallback)(function(){E.current&&q(),K(),E.current=!1,_({type:"global-drag-end"})},[q,K,_]);Object(b.a)("cbir:drag-end",ce);var le=Object(a.useCallback)(function(){Object(l.a)(r.infoClick)},[r]),ue=Object(a.useCallback)(function(){Object(l.a)(r.dropClick),Object(d.a)().emit("cbir:open-file-dialog")},[r]),se=Object(a.useCallback)(function(){Object(l.a)(r.selectClick),Object(d.a)().emit("cbir:open-file-dialog")},[r]),ve=Object(a.useCallback)(function(){Object(l.a)(r.clipboardClick)},[r]),me=Object(a.useCallback)(function(e){Object(l.a)(r.dropUrl,{vars:{url:e}}),Object(d.a)().emit("cbir:search-by-url",e)},[r]),ye=Object(a.useCallback)(function(e){Object(l.a)(r.dropFile,{vars:{size:e.size,type:e.type}}),Object(d.a)().emit("cbir:search-by-file",e)},[r]),he=Object(a.useCallback)(function(){return _({type:"drop-area-enter"})},[_]),ge=Object(a.useCallback)(function(){return _({type:"drop-area-leave"})},[_]),Oe=Object(a.useCallback)(function(){E.current=!1},[]),je=Object(a.useCallback)(function(e){Object(l.a)(r.clipboardUrl,{vars:{url:e}}),Object(d.a)().emit("cbir:search-by-url",e)},[r]),we=Object(a.useCallback)(function(e){Object(l.a)(r.clipboardFile,{vars:{size:e.size,type:e.type}}),Object(d.a)().emit("cbir:search-by-file",e)},[r]),Ce=Object(a.useCallback)(function(){Object(l.a)(r.clipboardError),_({type:"notify-show",payload:{notifyType:"clipboard"}})},[r,_]),Ee=Object(a.useCallback)(function(e,t){var n,r,o=e.target;"esc"!==t&&("click"!==t||(null===(n=v.current)||void 0===n?void 0:n.contains(o))||(null===(r=j.current)||void 0===r?void 0:r.contains(o)))||q()},[j,q]),ke=Object(a.useCallback)(function(e){_({type:"url-form-change",payload:{value:e}})},[_]),xe=Object(a.useCallback)(function(){var e=function(e){return"string"===typeof e?e.replace(/^\s+|\s+$/g,""):""}(V.current);Object(l.a)(r.urlSubmit,{vars:{url:e}}),Object(d.a)().emit("cbir:search-by-url",e)},[V,r]),Se=Object(a.useCallback)(function(){Object(l.a)(r.notifyClose),_({type:"notify-hide"})},[r,_]),De=Object(a.useCallback)(function(){Object(l.a)(r.onboardingOpen,{vars:{type:o}})},[r,o]),Pe=Object(a.useCallback)(function(e){return de(void 0,void 0,void 0,function(){return be(this,function(t){switch(t.label){case 0:return Object(l.a)(r.onboardingAction,{vars:{type:o,url:e}}),e?(Object(d.a)().emit("cbir:search-by-url",e),[3,3]):[3,1];case 1:return[4,Z(!0)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},[r,o,Z]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(w,{visible:S,anchor:j,scope:C,onClose:q,innerRef:v,bodyRef:m},i.a.createElement(ee,{visible:D}),i.a.createElement(Y,{loading:D,infoUrl:t,onInfoClick:le,onCloserClick:q}),i.a.createElement($,{isMacOS:n,droppable:L,pasteAvailable:S&&!D&&!I,onClick:ue,onSelectButtonClick:se,onPasteButtonClick:ve,onPasteUrl:je,onPasteFile:we,onPasteError:Ce,onPasteTooltipClose:Ee}),i.a.createElement(X,{ref:g,value:N,onChange:ke,onSubmit:xe,invalid:B}),I&&i.a.createElement(te,{onDropUrl:me,onDragEnter:he,onDragLeave:ge,onDrop:Oe}),i.a.createElement(re,{visible:P,type:T,onClose:Se})),R&&i.a.createElement(fe,{onDropFile:ye,onDropUrl:me,onDrop:Oe,onCloseRequest:K}),"drag"===o&&i.a.createElement(F,{ref:O,anchor:j,scope:C,localStorageKey:"cbir:uploader_onboarded",showDelay:7e3,ttl:2592e6,onShow:De,onAction:Pe}),"photo"===o&&i.a.createElement(G,{ref:O,anchor:j,scope:C,localStorageKey:"cbir:uploader_onboarded",showDelay:7e3,ttl:2592e6,onShow:De,onAction:Pe}),"simple"===o&&i.a.createElement(M,{ref:O,anchor:j,scope:C,localStorageKey:"cbir:uploader_onboarded",showDelay:7e3,ttl:2592e6,onShow:De,onAction:Pe}))}),pn=Object(r.b)("CbirPanel")(bn)},2146:function(e,t,n){n.r(t);var r=n(2764);n.d(t,"tr",function(){return r.a})},2147:function(e,t,n){n.r(t);var r=n(2773);n.d(t,"tr",function(){return r.a})},2755:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"Введите адрес изображения":"Görsel adresini girin","Визуальный поиск":"Görsel arama","Выбрать файл":"Dosya seç","Загрузите изображение, чтобы найти похожие картинки":"Benzer görselleri bulmak için ilgili görseli yükleyin","Нажмите Cmd+V":"Cmd+V tuşlarına basın","Нажмите Ctrl+V":"Ctrl+V tuşlarına basın","Найти":"Bul","Не сейчас":"Şimdi değil","Новый визуальный поиск":"Try visual search","Перетащите изображение сюда":"Görseli buraya sürükleyin","Перетащите картинку в область для загрузки":"Yüklemek için resmi bu alana sürükleyin","Понятно":"Tamam","Попробовать":"Dene","Попробуйте визуальный поиск":"Görsel aramayı deneyin","Попробуйте визуальный поиск по изображению":"Görsele göre aramayı deneyin","или нажмите на кнопку":"veya ilgili butona tıklayın"}},2764:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"Вставить из буфера":"Panodan yapıştır"}},2773:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Görsel boyutu en fazla {size} MB olabilir. Başka bir görsel yüklemeyi deneyin","Не нашли изображение по указанному адресу":"Belirtilen adreste görsel bulunamadı","Не удалось вставить картинку из буфера":"Panodan görsel yapıştırılamadı","Неправильный формат":"Yanlış format","Попробуйте ввести другой адрес":"Başka bir adres girmeyi deneyin","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Görseli png, jpg, gif vb. formatlarda yüklemeyi deneyin.","Файл слишком большой":"Dosya çok büyük","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Görseli yüklemek için dosyayı seçin veya buraya sürükleyin"}},28:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function a(e,t){if("string"===typeof e||!e)return e||"";if(Array.isArray(e))return e.join(",");var n=t?"-":"";return Object.keys(e).filter(function(t){return void 0!==e[t]&&""!==e[t]}).map(function(t){return""+(n&&0===t.indexOf(n)?"":n)+t+"="+e[t]}).join(",")}function i(e){if(e)return e.logNode}function c(e,t,n,o){void 0===t&&(t={}),void 0===n&&(n={}),void 0===o&&(o={href:""});var i=l(e);if(!i||!i.__oldCounter__)return i;var c=i.__oldCounter__,s=a(r(r({},u(c.vars||{})),u(t)),!0);return r(r({},i),{__oldCounter__:r(r(r({},c),{vars:s}),n),node:o})}function l(e){if(e&&Array.isArray(e.counter)){var t=o(e.counter,2),n=t[0],r=t[1];return{__oldCounter__:{path:n||"",vars:r||""}}}return e||{}}function u(e){return void 0===e&&(e={}),"object"===typeof e?e:e.split(",").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})}},373:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n(15),a=Object(r.withBemMod)(Object(o.b)(),{tone:"white"})},39:function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,i={},c=0,l=0;function u(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function s(){var e=u(+new Date);return e!==r?(c=0,r=e):e+"."+u(c++)}for(;l<a;l++)i[o[l]]=l;s.encode=u,s.decode=function(e){var t=0;for(l=0;l<e.length;l++)t=t*a+i[e.charAt(l)];return t},e.exports=s},405:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),o=n(15),a=Object(r.withBemMod)(Object(o.b)(),{tone:"gray"})},48:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(){return window.Ya.SerpContext}()[e]}},59:function(e,t,n){"use strict";"function"===typeof Element&&(Element.prototype.matches=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},649:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),o=n.n(r),a=n(14),i=n(164),c=n(157),l=n(11),u=n(172),s=(n(958),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),f=function(e){e.stopPropagation(),e.preventDefault()},d=l.a?document.body:null,b=function(e){var t=e.children,n=e.className,l=e.withTouchPrevention,b=e.scrollTarget,p=e.scope,v=e.innerRef,m=s(Object(r.useState)(d),2),y=m[0],h=m[1];return Object(r.useEffect)(function(){p&&h(p.current)},[p]),Object(r.useEffect)(function(){var e=null===b||void 0===b?void 0:b.current;if(e)return Object(c.disableBodyScroll)(e,{reserveScrollBarGap:!0}),function(){return Object(c.enableBodyScroll)(e)}},[b]),Object(i.a)("touchmove",l?f:void 0,void 0,{passive:!1}),y?Object(a.createPortal)(o.a.createElement("div",{className:Object(u.a)(null,[n]),ref:v},t),y):null}},678:function(e,t,n){},83:function(e,t,n){n.r(t);var r=n(5);Object(r.setI18nLang)("tr")},84:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!==o--;){var i=a[o];if(("_owner"!==i||!t.$$typeof)&&!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}},9:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){}},903:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){for(var n=[],r=0;r<e;r+=1)n.push(t(r));return n}},958:function(e,t,n){},983:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(984),o=function(e){return"IMG"===e.tagName?e.getAttribute("src"):Object(r.a)(e)}},984:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=getComputedStyle(e).backgroundImage.match(/url\("([^"]+)"\)/);return t?t[1]:null}},987:function(e,t,n){n.r(t);var r=n(2755);n.d(t,"tr",function(){return r.a})},993:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(985),a=n(253),i=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},c=function(e){var t=e.key,n=e.autoupdateAfter,c=e.ttl,l=void 0===c?31536e6:c,u=i(Object(o.a)(t),2),s=u[0],f=u[1],d=i(Object(r.useState)((null===s||void 0===s?void 0:s.count)||0),2),b=d[0],p=d[1],v=i(Object(r.useState)((null===s||void 0===s?void 0:s.last)||0),2),m=v[0],y=v[1],h=(m>0?m+l:0)<=Date.now(),g=Object(a.a)(b),O=Object(r.useRef)(!1),j=Object(r.useRef)(0),w=Object(r.useCallback)(function(){0!==j.current&&(window.clearTimeout(j.current),j.current=0)},[]),C=Object(r.useCallback)(function(e){var t=void 0===e?{}:e,n=t.ignoreNextUpdate,r=void 0!==n&&n,o=t.step,a=void 0===o?1:o,i=Date.now(),c=O.current?0:a,l=g.current+c;f({count:l,last:i}),p(l),y(i),O.current=r},[g,f]),E=Object(r.useCallback)(function(e){w(),C(e)},[w,C]);return Object(r.useEffect)(function(){if(h&&void 0!==n)return 0===j.current&&(j.current=window.setTimeout(function(){C({ignoreNextUpdate:!0})},n)),function(){return w()}},[n,h,w,C]),[Object(r.useMemo)(function(){return{expired:h,updatedAt:m,count:b}},[h,m,b]),E]}}});